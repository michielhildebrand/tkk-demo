<ion-side-menus>

  <ion-side-menu-content  ng-class="getActiveMode()" >

    <ion-header-bar align-title="center" ng-hide="controlsHidden()">
      <div class="buttons">
        <button class="button button-icon icon ion-ios7-arrow-back" ng-click="goToMain()" >Back</button>
        <button class="button button-icon button-clear ion-navicon" ng-click="toggleLeft()"></button>
      </div>
      <h1 class="title">{{video.title}}</h1>
      <div class="buttons">
        <button class="button button-icon icon ion-social-twitter" socialshare socialshare-provider="twitter"></button>
        <button class="button button-icon icon ion-eye" ng-class="{selected: tracking}" ng-click="toggleTracking()"></button>
      </div>
    </ion-header-bar>

    <div ng-switch="mode">
      <ion-content class="mode watch has-header has-footer" scroll="false" ng-switch-when="watch">
        <player class="player"second="second" controls="controls" ng-hide="beaming"></player>
        <div class="beam-bg" ng-show="beaming">
          <div class="icon ion-ios7-monitor-outline">
            <div class="msg">This video is playing on TV</div>
          </div>
        </div>
      </ion-content>

      <ion-content class="mode lookup has-header has-footer has-controls" scroll="false" ng-switch-when="lookup">
        <entity-slider ng-if="lookupMode"></entity-slider>
      </ion-content>

      <ion-content class="mode explore has-header has-footer has-controls" scroll="false" ng-switch-when="explore">
        <chapter-enrich height="playContentHeight" video="video"></chapter-enrich>
      </ion-content>
    </div>

    <div class="tabs tabs-icon-top bar logo" ng-hide="controlsHidden()">
      <a class="tab-item" ng-class="{'tab-item-active':isActiveMode('watch')}" ng-click="setActiveMode('watch')">
        <i class="icon ion-social-youtube"></i>
        Watch
      </a>
      <a class="tab-item" ng-class="{'tab-item-active':isActiveMode('lookup')}" ng-click="setActiveMode('lookup')" ng-if="lookupMode">
        <i class="icon ion-ios7-information"></i>
        Lookup
      </a>
      <a class="tab-item" ng-class="{'tab-item-active':isActiveMode('explore')}" ng-click="setActiveMode('explore')">
        <i class="icon ion-ios7-world"></i>
        Explore
      </a>
    </div>

    <player-controls class="player-controls" ng-hide="controlsHidden()"></player-controls>

  </ion-side-menu-content>

  <!-- Left menu -->
  <ion-side-menu side="left">
    <ion-content scroll="true" direction="y" class="chapters">
        <chapter-selection video="video" controlPlayer="true"></chapter-selection>
    </ion-content>
  </ion-side-menu>

</ion-side-menus>




